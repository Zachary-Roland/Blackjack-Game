<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const suit = ["spades", "hearts", "diamonds", "clubs"];
      const face = [
        "ace",
        "2",
        "3",
        "4",
        "5",
        "6",
        "7",
        "8",
        "9",
        "10",
        "jack",
        "queen",
        "king",
      ];
      const playerHand = new Array();
      const compHand = new Array();
      let deck = new Array();
      let playerPoints = 0;
      let compPoints = 0;
      function getDeck() {
        suit.forEach((i) => {
          face.forEach((j) => {
            let card = { face: j, suit: i };
            if (card.face === "ace") {
              card.value = 11;
            } else if (
              card.face === "jack" ||
              card.face === "queen" ||
              card.face === "king"
            ) {
              card.value = 10;
            } else {
              card.value = parseInt(j);
            }
            deck.push(card);
          });
        });
      }
      function shuffle(array) {
        let m = array.length,
          t,
          i;
        while (m) {
          i = Math.floor(Math.random() * m--);
          t = array[m];
          array[m] = array[i];
          array[i] = t;
        }
        return array;
      }
      function deal() {
        playerHand.push(shuffledeck.pop());
        compHand.push(shuffledeck.pop());
        playerHand.push(shuffledeck.pop());
        compHand.push(shuffledeck.pop());
        // console.log(
        //   `The player's cards are: ${playerHand[0].face} of ${playerHand[0].suit} & ${playerHand[1].face} of ${playerHand[1].suit}!`
        // );
        // console.log(
        //   `The computer's cards are: ${compHand[0].face} of ${compHand[0].suit} & ${compHand[1].face} of ${compHand[1].suit}!`
        // );
        showPlayer();
        showComp();
      }
      function gameEval() {
        playerPoints = 0;
        compPoints = 0;
        playerHand.forEach((card) => {
          playerPoints += card.value;
        });
        compHand.forEach((card) => {
          compPoints += card.value;
        });
        // console.log(`The player currently has ${playerPoints} points.`);
        // console.log(`The computer currently has ${compPoints} points.`);
        if (playerPoints === 21 && compPoints === 21) {
            console.log(`It's a tie! What are the odds??`)
        } else if (playerPoints === 21) {
            console.log(`Player wins!`)
        } else if (compPoints === 21) {
            console.log(`Computer wins!`)
        } else if (playerPoints > 21) {
            console.log(`Busted! Better luck next time!`)
        } else {
            console.log(`The player currently has ${playerPoints} points. Hit or Stay? (Computer has ${compPoints} points)`)
        }
      }
      // for each loop to console log the players hand regardless of card amount
      let playerStr = "The player's hand: "
      function showPlayer() {
        playerStr = "The player's hand: "
        playerHand.forEach(card => {
            playerStr += `${card.face} of ${card.suit} `;
        })
        console.log(playerStr)
      }
      let compStr = "The computer's hand: "
      function showComp() {
        compHand.forEach(card => {
            compStr += `${card.face} of ${card.suit} `;
        })
        console.log(compStr)
      }
      function playerHit() {
        playerHand.push(shuffledeck.pop());
        showPlayer();
        gameEval();
      }
      getDeck();
      let shuffledeck = shuffle(deck);
      console.log(shuffledeck);
      deal();
      gameEval();
    </script>
  </body>
</html>
